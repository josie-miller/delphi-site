{% extends 'home/base.html' %}

{% block title %}Blog{% endblock %}

{% block content %}
<h1>Blog</h1>

{% for post in posts %}
<div class="post">
    <h2><a href="{% url 'blog_detail' post.id %}">{{ post.title }}</a></h2>
    <p>{{ post.subtext }}</p>
    {% if post.image %}
        <img src="{{ post.image.url }}" alt="{{ post.title }}" style="max-width: 100%; height: auto;">
    {% endif %}
    <div class="post-content">
        {{ post.content|truncatewords:30 }} <!-- Show a truncated version of the post -->
        <a href="{% url 'blog_detail' post.id %}">Read More</a>
    </div>
</div>
{% empty %}
<p>No blog posts available.</p>
{% endfor %}
{% endblock %}
